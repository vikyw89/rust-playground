{
	"title": "Workspaces - The Cargo Book",
	"url": "https://doc.rust-lang.org/cargo/reference/workspaces.html",
	"markdown": "# Workspaces - The Cargo Book\n\nA _workspace_ is a collection of one or more packages, called _workspace members_, that are managed together.\n\nThe key points of workspaces are:\n\n-   Common commands can run across all workspace members, like `cargo check --workspace`.\n-   All packages share a common [`Cargo.lock`](../guide/cargo-toml-vs-cargo-lock.html) file which resides in the _workspace root_.\n-   All packages share a common [output directory](../guide/build-cache.html), which defaults to a directory named `target` in the _workspace root_.\n-   Sharing package metadata, like with [`workspace.package`](#the-package-table).\n-   The [`[patch]`](about:blank/overriding-dependencies.html#the-patch-section), [`[replace]`](about:blank/overriding-dependencies.html#the-replace-section) and [`[profile.*]`](profiles.html) sections in `Cargo.toml` are only recognized in the _root_ manifest, and ignored in member crates’ manifests.\n\nThe root `Cargo.toml` of a workspace supports the following sections:\n\n-   [`[workspace]`](#the-workspace-section) — Defines a workspace.\n    -   [`resolver`](about:blank/resolver.html#resolver-versions) — Sets the dependency resolver to use.\n    -   [`members`](#the-members-and-exclude-fields) — Packages to include in the workspace.\n    -   [`exclude`](#the-members-and-exclude-fields) — Packages to exclude from the workspace.\n    -   [`default-members`](#the-default-members-field) — Packages to operate on when a specific package wasn’t selected.\n    -   [`package`](#the-package-table) — Keys for inheriting in packages.\n    -   [`dependencies`](#the-dependencies-table) — Keys for inheriting in package dependencies.\n    -   [`lints`](#the-lints-table) — Keys for inheriting in package lints.\n    -   [`metadata`](#the-metadata-table) — Extra settings for external tools.\n-   [`[patch]`](about:blank/overriding-dependencies.html#the-patch-section) — Override dependencies.\n-   [`[replace]`](about:blank/overriding-dependencies.html#the-replace-section) — Override dependencies (deprecated).\n-   [`[profile]`](profiles.html) — Compiler settings and optimizations.\n\n## [The `[workspace]` section](#the-workspace-section)\n\nTo create a workspace, you add the `[workspace]` table to a `Cargo.toml`:\n\n```toml\n[workspace]\n# ...\n\n```\n\nAt minimum, a workspace has to have a member, either with a root package or as a virtual manifest.\n\n### [Root package](#root-package)\n\nIf the [`[workspace]` section](#the-workspace-section) is added to a `Cargo.toml` that already defines a `[package]`, the package is the _root package_ of the workspace. The _workspace root_ is the directory where the workspace’s `Cargo.toml` is located.\n\n```toml\n[workspace]\n\n[package]\nname = \"hello_world\" # the name of the package\nversion = \"0.1.0\"    # the current version, obeying semver\nauthors = [\"Alice <a@example.com>\", \"Bob <b@example.com>\"]\n\n```\n\n### [Virtual workspace](#virtual-workspace)\n\nAlternatively, a `Cargo.toml` file can be created with a `[workspace]` section but without a [`[package]` section](about:blank/manifest.html#the-package-section). This is called a _virtual manifest_. This is typically useful when there isn’t a “primary” package, or you want to keep all the packages organized in separate directories.\n\n```toml\n# [PROJECT_DIR]/Cargo.toml\n[workspace]\nmembers = [\"hello_world\"]\nresolver = \"2\"\n\n```\n\n```toml\n# [PROJECT_DIR]/hello_world/Cargo.toml\n[package]\nname = \"hello_world\" # the name of the package\nversion = \"0.1.0\"    # the current version, obeying semver\nedition = \"2021\"     # the edition, will have no effect on a resolver used in the workspace\nauthors = [\"Alice <a@example.com>\", \"Bob <b@example.com>\"]\n\n```\n\nBy having a workspace without a root package,\n\n-   [`resolver`](about:blank/resolver.html#resolver-versions) must be set explicitly in virtual workspaces as they have no [`package.edition`](about:blank/manifest.html#the-edition-field) to infer it from [resolver version](about:blank/resolver.html#resolver-versions).\n-   Commands run in the workspace root will run against all workspace members by default, see [`default-members`](#the-default-members-field).\n\n## [The `members` and `exclude` fields](#the-members-and-exclude-fields)\n\nThe `members` and `exclude` fields define which packages are members of the workspace:\n\n```toml\n[workspace]\nmembers = [\"member1\", \"path/to/member2\", \"crates/*\"]\nexclude = [\"crates/foo\", \"path/to/other\"]\n\n```\n\nAll [`path` dependencies](about:blank/specifying-dependencies.html#specifying-path-dependencies) residing in the workspace directory automatically become members. Additional members can be listed with the `members` key, which should be an array of strings containing directories with `Cargo.toml` files.\n\nThe `members` list also supports [globs](https://docs.rs/glob/0.3.0/glob/struct.Pattern.html) to match multiple paths, using typical filename glob patterns like `*` and `?`.\n\nThe `exclude` key can be used to prevent paths from being included in a workspace. This can be useful if some path dependencies aren’t desired to be in the workspace at all, or using a glob pattern and you want to remove a directory.\n\nWhen inside a subdirectory within the workspace, Cargo will automatically search the parent directories for a `Cargo.toml` file with a `[workspace]` definition to determine which workspace to use. The [`package.workspace`](about:blank/manifest.html#the-workspace-field) manifest key can be used in member crates to point at a workspace’s root to override this automatic search. The manual setting can be useful if the member is not inside a subdirectory of the workspace root.\n\n### [Package selection](#package-selection)\n\nIn a workspace, package-related Cargo commands like [`cargo build`](../commands/cargo-build.html) can use the `-p` / `--package` or `--workspace` command-line flags to determine which packages to operate on. If neither of those flags are specified, Cargo will use the package in the current working directory. However, if the current directory is a workspace root, the [`default-members`](#the-default-members-field) will be used.\n\n## [The `default-members` field](#the-default-members-field)\n\nThe `default-members` field specifies paths of [members](#the-members-and-exclude-fields) to operate on when in the workspace root and the package selection flags are not used:\n\n```toml\n[workspace]\nmembers = [\"path/to/member1\", \"path/to/member2\", \"path/to/member3/*\"]\ndefault-members = [\"path/to/member2\", \"path/to/member3/foo\"]\n\n```\n\n> Note: when a [root package](#root-package) is present, you can only operate on it using `--package` and `--workspace` flags.\n\nWhen unspecified, the [root package](#root-package) will be used. In the case of a [virtual workspace](#virtual-workspace), all members will be used (as if `--workspace` were specified on the command-line).\n\n## [The `package` table](#the-package-table)\n\nThe `workspace.package` table is where you define keys that can be inherited by members of a workspace. These keys can be inherited by defining them in the member package with `{key}.workspace = true`.\n\nKeys that are supported:\n\n| `authors` | `categories` |\n| `description` | `documentation` |\n| `edition` | `exclude` |\n| `homepage` | `include` |\n| `keywords` | `license` |\n| `license-file` | `publish` |\n| `readme` | `repository` |\n| `rust-version` | `version` |\n\n-   `license-file` and `readme` are relative to the workspace root\n-   `include` and `exclude` are relative to your package root\n\nExample:\n\n```toml\n# [PROJECT_DIR]/Cargo.toml\n[workspace]\nmembers = [\"bar\"]\n\n[workspace.package]\nversion = \"1.2.3\"\nauthors = [\"Nice Folks\"]\ndescription = \"A short description of my package\"\ndocumentation = \"https://example.com/bar\"\n\n```\n\n```toml\n# [PROJECT_DIR]/bar/Cargo.toml\n[package]\nname = \"bar\"\nversion.workspace = true\nauthors.workspace = true\ndescription.workspace = true\ndocumentation.workspace = true\n\n```\n\n## [The `dependencies` table](#the-dependencies-table)\n\nThe `workspace.dependencies` table is where you define dependencies to be inherited by members of a workspace.\n\nSpecifying a workspace dependency is similar to [package dependencies](specifying-dependencies.html) except:\n\n-   Dependencies from this table cannot be declared as `optional`\n-   [`features`](features.html) declared in this table are additive with the `features` from `[dependencies]`\n\nYou can then [inherit the workspace dependency as a package dependency](about:blank/specifying-dependencies.html#inheriting-a-dependency-from-a-workspace)\n\nExample:\n\n```toml\n# [PROJECT_DIR]/Cargo.toml\n[workspace]\nmembers = [\"bar\"]\n\n[workspace.dependencies]\ncc = \"1.0.73\"\nrand = \"0.8.5\"\nregex = { version = \"1.6.0\", default-features = false, features = [\"std\"] }\n\n```\n\n```toml\n# [PROJECT_DIR]/bar/Cargo.toml\n[package]\nname = \"bar\"\nversion = \"0.2.0\"\n\n[dependencies]\nregex = { workspace = true, features = [\"unicode\"] }\n\n[build-dependencies]\ncc.workspace = true\n\n[dev-dependencies]\nrand.workspace = true\n\n```\n\n## [The `lints` table](#the-lints-table)\n\nThe `workspace.lints` table is where you define lint configuration to be inherited by members of a workspace.\n\nSpecifying a workspace lint configuration is similar to [package lints](about:blank/manifest.html#the-lints-section).\n\nExample:\n\n```toml\n# [PROJECT_DIR]/Cargo.toml\n[workspace]\nmembers = [\"crates/*\"]\n\n[workspace.lints.rust]\nunsafe_code = \"forbid\"\n\n```\n\n```toml\n# [PROJECT_DIR]/crates/bar/Cargo.toml\n[package]\nname = \"bar\"\nversion = \"0.1.0\"\n\n[lints]\nworkspace = true\n\n```\n\nThe `workspace.metadata` table is ignored by Cargo and will not be warned about. This section can be used for tools that would like to store workspace configuration in `Cargo.toml`. For example:\n\n```toml\n[workspace]\nmembers = [\"member1\", \"member2\"]\n\n[workspace.metadata.webcontents]\nroot = \"path/to/webproject\"\ntool = [\"npm\", \"run\", \"build\"]\n# ...\n\n```\n\nThere is a similar set of tables at the package level at [`package.metadata`](about:blank/manifest.html#the-metadata-table). While cargo does not specify a format for the content of either of these tables, it is suggested that external tools may wish to use them in a consistent fashion, such as referring to the data in `workspace.metadata` if data is missing from `package.metadata`, if that makes sense for the tool in question.",
	"html": "<!DOCTYPE html><html lang=\"en\" class=\"light\" dir=\"ltr\"><head>\n        <!-- Book generated using mdBook -->\n        <meta charset=\"UTF-8\">\n        <title>Workspaces - The Cargo Book</title>\n\n\n        <!-- Custom HTML head -->\n        <style>\n            dd {\n                margin-bottom: 1em;\n            }\n        </style>\n\n        <meta name=\"description\" content=\"\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n        <meta name=\"theme-color\" content=\"rgb(255, 255, 255)\">\n\n        <link rel=\"shortcut icon\" href=\"../favicon.png\">\n        <link rel=\"stylesheet\" href=\"../css/variables.css\">\n        <link rel=\"stylesheet\" href=\"../css/general.css\">\n        <link rel=\"stylesheet\" href=\"../css/chrome.css\">\n        <link rel=\"stylesheet\" href=\"../css/print.css\" media=\"print\">\n\n        <!-- Fonts -->\n        <link rel=\"stylesheet\" href=\"../FontAwesome/css/font-awesome.css\">\n        <link rel=\"stylesheet\" href=\"../fonts/fonts.css\">\n\n        <!-- Highlight.js Stylesheets -->\n        <link rel=\"stylesheet\" href=\"../highlight.css\">\n        <link rel=\"stylesheet\" href=\"../tomorrow-night.css\" disabled=\"\">\n        <link rel=\"stylesheet\" href=\"../ayu-highlight.css\" disabled=\"\">\n\n        <!-- Custom theme stylesheets -->\n\n    </head>\n    <body class=\"js sidebar-visible\">\n    <div id=\"body-container\">\n        <!-- Provide site root to javascript -->\n        <script>\n            var path_to_root = \"../\";\n            var default_theme = window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"navy\" : \"light\";\n        </script>\n\n        <!-- Work around some values being stored in localStorage wrapped in quotes -->\n        <script>\n            try {\n                var theme = localStorage.getItem('mdbook-theme');\n                var sidebar = localStorage.getItem('mdbook-sidebar');\n\n                if (theme.startsWith('\"') && theme.endsWith('\"')) {\n                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));\n                }\n\n                if (sidebar.startsWith('\"') && sidebar.endsWith('\"')) {\n                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));\n                }\n            } catch (e) { }\n        </script>\n\n        <!-- Set the theme before any content is loaded, prevents flash -->\n        <script>\n            var theme;\n            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }\n            if (theme === null || theme === undefined) { theme = default_theme; }\n            var html = document.querySelector('html');\n            html.classList.remove('light')\n            html.classList.add(theme);\n            var body = document.querySelector('body');\n            body.classList.remove('no-js')\n            body.classList.add('js');\n        </script>\n\n        <input type=\"checkbox\" id=\"sidebar-toggle-anchor\" class=\"hidden\">\n\n        <!-- Hide / unhide sidebar before it is displayed -->\n        <script>\n            var body = document.querySelector('body');\n            var sidebar = null;\n            var sidebar_toggle = document.getElementById(\"sidebar-toggle-anchor\");\n            if (document.body.clientWidth >= 1080) {\n                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }\n                sidebar = sidebar || 'visible';\n            } else {\n                sidebar = 'hidden';\n            }\n            sidebar_toggle.checked = sidebar === 'visible';\n            body.classList.remove('sidebar-visible');\n            body.classList.add(\"sidebar-\" + sidebar);\n        </script>\n\n        <nav id=\"sidebar\" class=\"sidebar\" aria-label=\"Table of contents\" aria-hidden=\"false\">\n            <div class=\"sidebar-scrollbox\">\n                <ol class=\"chapter\"><li class=\"chapter-item expanded affix \"><a href=\"../index.html\" tabindex=\"0\">Introduction</a></li><li class=\"chapter-item expanded \"><a href=\"../getting-started/index.html\" tabindex=\"0\"><strong aria-hidden=\"true\">1.</strong> Getting Started</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"../getting-started/installation.html\" tabindex=\"0\"><strong aria-hidden=\"true\">1.1.</strong> Installation</a></li><li class=\"chapter-item expanded \"><a href=\"../getting-started/first-steps.html\" tabindex=\"0\"><strong aria-hidden=\"true\">1.2.</strong> First Steps with Cargo</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"../guide/index.html\" tabindex=\"0\"><strong aria-hidden=\"true\">2.</strong> Cargo Guide</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"../guide/why-cargo-exists.html\" tabindex=\"0\"><strong aria-hidden=\"true\">2.1.</strong> Why Cargo Exists</a></li><li class=\"chapter-item expanded \"><a href=\"../guide/creating-a-new-project.html\" tabindex=\"0\"><strong aria-hidden=\"true\">2.2.</strong> Creating a New Package</a></li><li class=\"chapter-item expanded \"><a href=\"../guide/working-on-an-existing-project.html\" tabindex=\"0\"><strong aria-hidden=\"true\">2.3.</strong> Working on an Existing Package</a></li><li class=\"chapter-item expanded \"><a href=\"../guide/dependencies.html\" tabindex=\"0\"><strong aria-hidden=\"true\">2.4.</strong> Dependencies</a></li><li class=\"chapter-item expanded \"><a href=\"../guide/project-layout.html\" tabindex=\"0\"><strong aria-hidden=\"true\">2.5.</strong> Package Layout</a></li><li class=\"chapter-item expanded \"><a href=\"../guide/cargo-toml-vs-cargo-lock.html\" tabindex=\"0\"><strong aria-hidden=\"true\">2.6.</strong> Cargo.toml vs Cargo.lock</a></li><li class=\"chapter-item expanded \"><a href=\"../guide/tests.html\" tabindex=\"0\"><strong aria-hidden=\"true\">2.7.</strong> Tests</a></li><li class=\"chapter-item expanded \"><a href=\"../guide/continuous-integration.html\" tabindex=\"0\"><strong aria-hidden=\"true\">2.8.</strong> Continuous Integration</a></li><li class=\"chapter-item expanded \"><a href=\"../guide/cargo-home.html\" tabindex=\"0\"><strong aria-hidden=\"true\">2.9.</strong> Cargo Home</a></li><li class=\"chapter-item expanded \"><a href=\"../guide/build-cache.html\" tabindex=\"0\"><strong aria-hidden=\"true\">2.10.</strong> Build Cache</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"../reference/index.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.</strong> Cargo Reference</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"../reference/specifying-dependencies.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.1.</strong> Specifying Dependencies</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"../reference/overriding-dependencies.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.1.1.</strong> Overriding Dependencies</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"../reference/manifest.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.2.</strong> The Manifest Format</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"../reference/cargo-targets.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.2.1.</strong> Cargo Targets</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"../reference/workspaces.html\" class=\"active\" tabindex=\"0\"><strong aria-hidden=\"true\">3.3.</strong> Workspaces</a></li><li class=\"chapter-item expanded \"><a href=\"../reference/features.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.4.</strong> Features</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"../reference/features-examples.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.4.1.</strong> Features Examples</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"../reference/profiles.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.5.</strong> Profiles</a></li><li class=\"chapter-item expanded \"><a href=\"../reference/config.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.6.</strong> Configuration</a></li><li class=\"chapter-item expanded \"><a href=\"../reference/environment-variables.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.7.</strong> Environment Variables</a></li><li class=\"chapter-item expanded \"><a href=\"../reference/build-scripts.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.8.</strong> Build Scripts</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"../reference/build-script-examples.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.8.1.</strong> Build Script Examples</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"../reference/publishing.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.9.</strong> Publishing on crates.io</a></li><li class=\"chapter-item expanded \"><a href=\"../reference/pkgid-spec.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.10.</strong> Package ID Specifications</a></li><li class=\"chapter-item expanded \"><a href=\"../reference/source-replacement.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.11.</strong> Source Replacement</a></li><li class=\"chapter-item expanded \"><a href=\"../reference/external-tools.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.12.</strong> External Tools</a></li><li class=\"chapter-item expanded \"><a href=\"../reference/registries.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.13.</strong> Registries</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"../reference/registry-authentication.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.13.1.</strong> Registry Authentication</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"../reference/credential-provider-protocol.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.13.1.1.</strong> Credential Provider Protocol</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"../reference/running-a-registry.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.13.2.</strong> Running a Registry</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"../reference/registry-index.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.13.2.1.</strong> Registry Index</a></li><li class=\"chapter-item expanded \"><a href=\"../reference/registry-web-api.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.13.2.2.</strong> Registry Web API</a></li></ol></li></ol></li><li class=\"chapter-item expanded \"><a href=\"../reference/resolver.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.14.</strong> Dependency Resolution</a></li><li class=\"chapter-item expanded \"><a href=\"../reference/semver.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.15.</strong> SemVer Compatibility</a></li><li class=\"chapter-item expanded \"><a href=\"../reference/future-incompat-report.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.16.</strong> Future incompat report</a></li><li class=\"chapter-item expanded \"><a href=\"../reference/timings.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.17.</strong> Reporting build timings</a></li><li class=\"chapter-item expanded \"><a href=\"../reference/unstable.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.18.</strong> Unstable Features</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"../commands/index.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.</strong> Cargo Commands</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"../commands/general-commands.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.1.</strong> General Commands</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"../commands/cargo.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.1.1.</strong> cargo</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-help.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.1.2.</strong> cargo help</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-version.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.1.3.</strong> cargo version</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"../commands/build-commands.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.2.</strong> Build Commands</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-bench.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.2.1.</strong> cargo bench</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-build.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.2.2.</strong> cargo build</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-check.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.2.3.</strong> cargo check</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-clean.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.2.4.</strong> cargo clean</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-doc.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.2.5.</strong> cargo doc</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-fetch.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.2.6.</strong> cargo fetch</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-fix.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.2.7.</strong> cargo fix</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-run.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.2.8.</strong> cargo run</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-rustc.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.2.9.</strong> cargo rustc</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-rustdoc.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.2.10.</strong> cargo rustdoc</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-test.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.2.11.</strong> cargo test</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-report.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.2.12.</strong> cargo report</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"../commands/manifest-commands.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.3.</strong> Manifest Commands</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-add.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.3.1.</strong> cargo add</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-generate-lockfile.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.3.2.</strong> cargo generate-lockfile</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-locate-project.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.3.3.</strong> cargo locate-project</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-metadata.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.3.4.</strong> cargo metadata</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-pkgid.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.3.5.</strong> cargo pkgid</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-remove.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.3.6.</strong> cargo remove</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-tree.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.3.7.</strong> cargo tree</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-update.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.3.8.</strong> cargo update</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-vendor.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.3.9.</strong> cargo vendor</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-verify-project.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.3.10.</strong> cargo verify-project</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"../commands/package-commands.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.4.</strong> Package Commands</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-init.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.4.1.</strong> cargo init</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-install.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.4.2.</strong> cargo install</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-new.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.4.3.</strong> cargo new</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-search.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.4.4.</strong> cargo search</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-uninstall.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.4.5.</strong> cargo uninstall</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"../commands/publishing-commands.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.5.</strong> Publishing Commands</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-login.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.5.1.</strong> cargo login</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-logout.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.5.2.</strong> cargo logout</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-owner.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.5.3.</strong> cargo owner</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-package.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.5.4.</strong> cargo package</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-publish.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.5.5.</strong> cargo publish</a></li><li class=\"chapter-item expanded \"><a href=\"../commands/cargo-yank.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.5.6.</strong> cargo yank</a></li></ol></li></ol></li><li class=\"chapter-item expanded \"><a href=\"../faq.html\" tabindex=\"0\"><strong aria-hidden=\"true\">5.</strong> FAQ</a></li><li class=\"chapter-item expanded \"><a href=\"../appendix/glossary.html\" tabindex=\"0\"><strong aria-hidden=\"true\">6.</strong> Appendix: Glossary</a></li><li class=\"chapter-item expanded \"><a href=\"../appendix/git-authentication.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.</strong> Appendix: Git Authentication</a></li></ol>\n            </div>\n            <div id=\"sidebar-resize-handle\" class=\"sidebar-resize-handle\">\n                <div class=\"sidebar-resize-indicator\"></div>\n            </div>\n        </nav>\n\n        <!-- Track and set sidebar scroll position -->\n        <script>\n            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');\n            sidebarScrollbox.addEventListener('click', function(e) {\n                if (e.target.tagName === 'A') {\n                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);\n                }\n            }, { passive: true });\n            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');\n            sessionStorage.removeItem('sidebar-scroll');\n            if (sidebarScrollTop) {\n                // preserve sidebar scroll position when navigating via links within sidebar\n                sidebarScrollbox.scrollTop = sidebarScrollTop;\n            } else {\n                // scroll sidebar to current active section when navigating via \"next/previous chapter\" buttons\n                var activeSection = document.querySelector('#sidebar .active');\n                if (activeSection) {\n                    activeSection.scrollIntoView({ block: 'center' });\n                }\n            }\n        </script>\n\n        <div id=\"page-wrapper\" class=\"page-wrapper\">\n\n            <div class=\"page\">\n                                <div id=\"menu-bar-hover-placeholder\"></div>\n                <div id=\"menu-bar\" class=\"menu-bar\" style=\"top: 0px;\">\n                    <div class=\"left-buttons\">\n                        <label id=\"sidebar-toggle\" class=\"icon-button\" for=\"sidebar-toggle-anchor\" title=\"Toggle Table of Contents\" aria-label=\"Toggle Table of Contents\" aria-controls=\"sidebar\" aria-expanded=\"true\">\n                            <i class=\"fa fa-bars\"></i>\n                        </label>\n                        <button id=\"theme-toggle\" class=\"icon-button\" type=\"button\" title=\"Change theme\" aria-label=\"Change theme\" aria-haspopup=\"true\" aria-expanded=\"false\" aria-controls=\"theme-list\">\n                            <i class=\"fa fa-paint-brush\"></i>\n                        </button>\n                        <ul id=\"theme-list\" class=\"theme-popup\" aria-label=\"Themes\" role=\"menu\">\n                            <li role=\"none\"><button role=\"menuitem\" class=\"theme theme-selected\" id=\"light\">Light</button></li>\n                            <li role=\"none\"><button role=\"menuitem\" class=\"theme\" id=\"rust\">Rust</button></li>\n                            <li role=\"none\"><button role=\"menuitem\" class=\"theme\" id=\"coal\">Coal</button></li>\n                            <li role=\"none\"><button role=\"menuitem\" class=\"theme\" id=\"navy\">Navy</button></li>\n                            <li role=\"none\"><button role=\"menuitem\" class=\"theme\" id=\"ayu\">Ayu</button></li>\n                        </ul>\n                        <button id=\"search-toggle\" class=\"icon-button\" type=\"button\" title=\"Search. (Shortkey: s)\" aria-label=\"Toggle Searchbar\" aria-expanded=\"false\" aria-keyshortcuts=\"S\" aria-controls=\"searchbar\">\n                            <i class=\"fa fa-search\"></i>\n                        </button>\n                    </div>\n\n                    <h1 class=\"menu-title\">The Cargo Book</h1>\n\n                    <div class=\"right-buttons\">\n                        <a href=\"../print.html\" title=\"Print this book\" aria-label=\"Print this book\">\n                            <i id=\"print-button\" class=\"fa fa-print\"></i>\n                        </a>\n                        <a href=\"https://github.com/rust-lang/cargo/tree/master/src/doc/src\" title=\"Git repository\" aria-label=\"Git repository\">\n                            <i id=\"git-repository-button\" class=\"fa fa-github\"></i>\n                        </a>\n                        <a href=\"https://github.com/rust-lang/cargo/edit/master/src/doc/src/reference/workspaces.md\" title=\"Suggest an edit\" aria-label=\"Suggest an edit\">\n                            <i id=\"git-edit-button\" class=\"fa fa-edit\"></i>\n                        </a>\n\n                    </div>\n                </div>\n\n                <div id=\"search-wrapper\" class=\"hidden\">\n                    <form id=\"searchbar-outer\" class=\"searchbar-outer\">\n                        <input type=\"search\" id=\"searchbar\" name=\"searchbar\" placeholder=\"Search this book ...\" aria-controls=\"searchresults-outer\" aria-describedby=\"searchresults-header\">\n                    </form>\n                    <div id=\"searchresults-outer\" class=\"searchresults-outer hidden\">\n                        <div id=\"searchresults-header\" class=\"searchresults-header\"></div>\n                        <ul id=\"searchresults\">\n                        </ul>\n                    </div>\n                </div>\n\n                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->\n                <script>\n                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');\n                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');\n                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {\n                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);\n                    });\n                </script>\n\n                <div id=\"content\" class=\"content\">\n                    <main>\n                        <h1 id=\"workspaces\"><a class=\"header\" href=\"#workspaces\">Workspaces</a></h1>\n<p>A <em>workspace</em> is a collection of one or more packages, called <em>workspace\nmembers</em>, that are managed together.</p>\n<p>The key points of workspaces are:</p>\n<ul>\n<li>Common commands can run across all workspace members, like <code class=\"hljs\">cargo check --workspace</code>.</li>\n<li>All packages share a common <a href=\"../guide/cargo-toml-vs-cargo-lock.html\"><code class=\"hljs\">Cargo.lock</code></a> file which resides in the\n<em>workspace root</em>.</li>\n<li>All packages share a common <a href=\"../guide/build-cache.html\">output directory</a>, which defaults to a\ndirectory named <code class=\"hljs\">target</code> in the <em>workspace root</em>.</li>\n<li>Sharing package metadata, like with <a href=\"#the-package-table\"><code class=\"hljs\">workspace.package</code></a>.</li>\n<li>The <a href=\"overriding-dependencies.html#the-patch-section\"><code class=\"hljs\">[patch]</code></a>, <a href=\"overriding-dependencies.html#the-replace-section\"><code class=\"hljs\">[replace]</code></a> and <a href=\"profiles.html\"><code class=\"hljs\">[profile.*]</code></a>\nsections in <code class=\"hljs\">Cargo.toml</code> are only recognized in the <em>root</em> manifest, and\nignored in member crates’ manifests.</li>\n</ul>\n<p>The root <code class=\"hljs\">Cargo.toml</code> of a workspace supports the following sections:</p>\n<ul>\n<li><a href=\"#the-workspace-section\"><code class=\"hljs\">[workspace]</code></a> — Defines a workspace.\n<ul>\n<li><a href=\"resolver.html#resolver-versions\"><code class=\"hljs\">resolver</code></a> — Sets the dependency resolver to use.</li>\n<li><a href=\"#the-members-and-exclude-fields\"><code class=\"hljs\">members</code></a> — Packages to include in the workspace.</li>\n<li><a href=\"#the-members-and-exclude-fields\"><code class=\"hljs\">exclude</code></a> — Packages to exclude from the workspace.</li>\n<li><a href=\"#the-default-members-field\"><code class=\"hljs\">default-members</code></a> — Packages to operate on when a specific package wasn’t selected.</li>\n<li><a href=\"#the-package-table\"><code class=\"hljs\">package</code></a> — Keys for inheriting in packages.</li>\n<li><a href=\"#the-dependencies-table\"><code class=\"hljs\">dependencies</code></a> — Keys for inheriting in package dependencies.</li>\n<li><a href=\"#the-lints-table\"><code class=\"hljs\">lints</code></a> — Keys for inheriting in package lints.</li>\n<li><a href=\"#the-metadata-table\"><code class=\"hljs\">metadata</code></a> — Extra settings for external tools.</li>\n</ul>\n</li>\n<li><a href=\"overriding-dependencies.html#the-patch-section\"><code class=\"hljs\">[patch]</code></a> — Override dependencies.</li>\n<li><a href=\"overriding-dependencies.html#the-replace-section\"><code class=\"hljs\">[replace]</code></a> — Override dependencies (deprecated).</li>\n<li><a href=\"profiles.html\"><code class=\"hljs\">[profile]</code></a> — Compiler settings and optimizations.</li>\n</ul>\n<h2 id=\"the-workspace-section\"><a class=\"header\" href=\"#the-workspace-section\">The <code>[workspace]</code> section</a></h2>\n<p>To create a workspace, you add the <code class=\"hljs\">[workspace]</code> table to a <code class=\"hljs\">Cargo.toml</code>:</p>\n<pre><div class=\"buttons\"><button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\"><i class=\"tooltiptext\"></i></button></div><code class=\"language-toml hljs ini\"><span class=\"hljs-section\">[workspace]</span>\n<span class=\"hljs-comment\"># ...</span>\n</code></pre>\n<p>At minimum, a workspace has to have a member, either with a root package or as\na virtual manifest.</p>\n<h3 id=\"root-package\"><a class=\"header\" href=\"#root-package\">Root package</a></h3>\n<p>If the <a href=\"#the-workspace-section\"><code class=\"hljs\">[workspace]</code> section</a> is added to a\n<code class=\"hljs\">Cargo.toml</code> that already defines a <code class=\"hljs\">[package]</code>, the package is\nthe <em>root package</em> of the workspace. The <em>workspace root</em> is the directory\nwhere the workspace’s <code class=\"hljs\">Cargo.toml</code> is located.</p>\n<pre><div class=\"buttons\"><button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\"><i class=\"tooltiptext\"></i></button></div><code class=\"language-toml hljs ini\"><span class=\"hljs-section\">[workspace]</span>\n\n<span class=\"hljs-section\">[package]</span>\n<span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">\"hello_world\"</span> <span class=\"hljs-comment\"># the name of the package</span>\n<span class=\"hljs-attr\">version</span> = <span class=\"hljs-string\">\"0.1.0\"</span>    <span class=\"hljs-comment\"># the current version, obeying semver</span>\n<span class=\"hljs-attr\">authors</span> = [<span class=\"hljs-string\">\"Alice &lt;a@example.com&gt;\"</span>, <span class=\"hljs-string\">\"Bob &lt;b@example.com&gt;\"</span>]\n</code></pre>\n<h3 id=\"virtual-workspace\"><a class=\"header\" href=\"#virtual-workspace\">Virtual workspace</a></h3>\n<p>Alternatively, a <code class=\"hljs\">Cargo.toml</code> file can be created with a <code class=\"hljs\">[workspace]</code> section\nbut without a <a href=\"manifest.html#the-package-section\"><code class=\"hljs\">[package]</code> section</a>. This is called a <em>virtual\nmanifest</em>. This is typically useful when there isn’t a “primary” package, or\nyou want to keep all the packages organized in separate directories.</p>\n<pre><div class=\"buttons\"><button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\"><i class=\"tooltiptext\"></i></button></div><code class=\"language-toml hljs ini\"><span class=\"hljs-comment\"># [PROJECT_DIR]/Cargo.toml</span>\n<span class=\"hljs-section\">[workspace]</span>\n<span class=\"hljs-attr\">members</span> = [<span class=\"hljs-string\">\"hello_world\"</span>]\n<span class=\"hljs-attr\">resolver</span> = <span class=\"hljs-string\">\"2\"</span>\n</code></pre>\n<pre><div class=\"buttons\"><button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\"><i class=\"tooltiptext\"></i></button></div><code class=\"language-toml hljs ini\"><span class=\"hljs-comment\"># [PROJECT_DIR]/hello_world/Cargo.toml</span>\n<span class=\"hljs-section\">[package]</span>\n<span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">\"hello_world\"</span> <span class=\"hljs-comment\"># the name of the package</span>\n<span class=\"hljs-attr\">version</span> = <span class=\"hljs-string\">\"0.1.0\"</span>    <span class=\"hljs-comment\"># the current version, obeying semver</span>\n<span class=\"hljs-attr\">edition</span> = <span class=\"hljs-string\">\"2021\"</span>     <span class=\"hljs-comment\"># the edition, will have no effect on a resolver used in the workspace</span>\n<span class=\"hljs-attr\">authors</span> = [<span class=\"hljs-string\">\"Alice &lt;a@example.com&gt;\"</span>, <span class=\"hljs-string\">\"Bob &lt;b@example.com&gt;\"</span>]\n</code></pre>\n<p>By having a workspace without a root package,</p>\n<ul>\n<li><a href=\"resolver.html#resolver-versions\"><code class=\"hljs\">resolver</code></a> must be\nset explicitly in virtual workspaces as they have no\n<a href=\"manifest.html#the-edition-field\"><code class=\"hljs\">package.edition</code></a> to infer it from\n<a href=\"resolver.html#resolver-versions\">resolver version</a>.</li>\n<li>Commands run in the workspace root will run against all workspace\nmembers by default, see <a href=\"#the-default-members-field\"><code class=\"hljs\">default-members</code></a>.</li>\n</ul>\n<h2 id=\"the-members-and-exclude-fields\"><a class=\"header\" href=\"#the-members-and-exclude-fields\">The <code>members</code> and <code>exclude</code> fields</a></h2>\n<p>The <code class=\"hljs\">members</code> and <code class=\"hljs\">exclude</code> fields define which packages are members of\nthe workspace:</p>\n<pre><div class=\"buttons\"><button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\"><i class=\"tooltiptext\"></i></button></div><code class=\"language-toml hljs ini\"><span class=\"hljs-section\">[workspace]</span>\n<span class=\"hljs-attr\">members</span> = [<span class=\"hljs-string\">\"member1\"</span>, <span class=\"hljs-string\">\"path/to/member2\"</span>, <span class=\"hljs-string\">\"crates/*\"</span>]\n<span class=\"hljs-attr\">exclude</span> = [<span class=\"hljs-string\">\"crates/foo\"</span>, <span class=\"hljs-string\">\"path/to/other\"</span>]\n</code></pre>\n<p>All <a href=\"specifying-dependencies.html#specifying-path-dependencies\"><code class=\"hljs\">path</code> dependencies</a> residing in the workspace directory automatically\nbecome members. Additional members can be listed with the <code class=\"hljs\">members</code> key, which\nshould be an array of strings containing directories with <code class=\"hljs\">Cargo.toml</code> files.</p>\n<p>The <code class=\"hljs\">members</code> list also supports <a href=\"https://docs.rs/glob/0.3.0/glob/struct.Pattern.html\">globs</a> to match multiple paths, using\ntypical filename glob patterns like <code class=\"hljs\">*</code> and <code class=\"hljs\">?</code>.</p>\n<p>The <code class=\"hljs\">exclude</code> key can be used to prevent paths from being included in a\nworkspace. This can be useful if some path dependencies aren’t desired to be\nin the workspace at all, or using a glob pattern and you want to remove a\ndirectory.</p>\n<p>When inside a subdirectory within the workspace, Cargo will automatically\nsearch the parent directories for a <code class=\"hljs\">Cargo.toml</code> file with a <code class=\"hljs\">[workspace]</code>\ndefinition to determine which workspace to use. The <a href=\"manifest.html#the-workspace-field\"><code class=\"hljs\">package.workspace</code></a>\nmanifest key can be used in member crates to point at a workspace’s root to\noverride this automatic search. The manual setting can be useful if the member\nis not inside a subdirectory of the workspace root.</p>\n<h3 id=\"package-selection\"><a class=\"header\" href=\"#package-selection\">Package selection</a></h3>\n<p>In a workspace, package-related Cargo commands like <a href=\"../commands/cargo-build.html\"><code class=\"hljs\">cargo build</code></a> can use\nthe <code class=\"hljs\">-p</code> / <code class=\"hljs\">--package</code> or <code class=\"hljs\">--workspace</code> command-line flags to determine which\npackages to operate on. If neither of those flags are specified, Cargo will\nuse the package in the current working directory. However, if the current directory is\na workspace root, the <a href=\"#the-default-members-field\"><code class=\"hljs\">default-members</code></a> will be used.</p>\n<h2 id=\"the-default-members-field\"><a class=\"header\" href=\"#the-default-members-field\">The <code>default-members</code> field</a></h2>\n<p>The <code class=\"hljs\">default-members</code> field specifies paths of <a href=\"#the-members-and-exclude-fields\">members</a> to\noperate on when in the workspace root and the package selection flags are not\nused:</p>\n<pre><div class=\"buttons\"><button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\"><i class=\"tooltiptext\"></i></button></div><code class=\"language-toml hljs ini\"><span class=\"hljs-section\">[workspace]</span>\n<span class=\"hljs-attr\">members</span> = [<span class=\"hljs-string\">\"path/to/member1\"</span>, <span class=\"hljs-string\">\"path/to/member2\"</span>, <span class=\"hljs-string\">\"path/to/member3/*\"</span>]\n<span class=\"hljs-attr\">default-members</span> = [<span class=\"hljs-string\">\"path/to/member2\"</span>, <span class=\"hljs-string\">\"path/to/member3/foo\"</span>]\n</code></pre>\n<blockquote>\n<p>Note: when a <a href=\"#root-package\">root package</a> is present,\nyou can only operate on it using <code class=\"hljs\">--package</code> and <code class=\"hljs\">--workspace</code> flags.</p>\n</blockquote>\n<p>When unspecified, the <a href=\"#root-package\">root package</a> will be used.\nIn the case of a <a href=\"#virtual-workspace\">virtual workspace</a>, all members will be used\n(as if <code class=\"hljs\">--workspace</code> were specified on the command-line).</p>\n<h2 id=\"the-package-table\"><a class=\"header\" href=\"#the-package-table\">The <code>package</code> table</a></h2>\n<p>The <code class=\"hljs\">workspace.package</code> table is where you define keys that can be\ninherited by members of a workspace. These keys can be inherited by\ndefining them in the member package with <code class=\"hljs\">{key}.workspace = true</code>.</p>\n<p>Keys that are supported:</p>\n<div class=\"table-wrapper\"><table><thead><tr><th></th><th></th></tr></thead><tbody>\n<tr><td><code class=\"hljs\">authors</code></td><td><code class=\"hljs\">categories</code></td></tr>\n<tr><td><code class=\"hljs\">description</code></td><td><code class=\"hljs\">documentation</code></td></tr>\n<tr><td><code class=\"hljs\">edition</code></td><td><code class=\"hljs\">exclude</code></td></tr>\n<tr><td><code class=\"hljs\">homepage</code></td><td><code class=\"hljs\">include</code></td></tr>\n<tr><td><code class=\"hljs\">keywords</code></td><td><code class=\"hljs\">license</code></td></tr>\n<tr><td><code class=\"hljs\">license-file</code></td><td><code class=\"hljs\">publish</code></td></tr>\n<tr><td><code class=\"hljs\">readme</code></td><td><code class=\"hljs\">repository</code></td></tr>\n<tr><td><code class=\"hljs\">rust-version</code></td><td><code class=\"hljs\">version</code></td></tr>\n</tbody></table>\n</div>\n<ul>\n<li><code class=\"hljs\">license-file</code> and <code class=\"hljs\">readme</code> are relative to the workspace root</li>\n<li><code class=\"hljs\">include</code> and <code class=\"hljs\">exclude</code> are relative to your package root</li>\n</ul>\n<p>Example:</p>\n<pre><div class=\"buttons\"><button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\"><i class=\"tooltiptext\"></i></button></div><code class=\"language-toml hljs ini\"><span class=\"hljs-comment\"># [PROJECT_DIR]/Cargo.toml</span>\n<span class=\"hljs-section\">[workspace]</span>\n<span class=\"hljs-attr\">members</span> = [<span class=\"hljs-string\">\"bar\"</span>]\n\n<span class=\"hljs-section\">[workspace.package]</span>\n<span class=\"hljs-attr\">version</span> = <span class=\"hljs-string\">\"1.2.3\"</span>\n<span class=\"hljs-attr\">authors</span> = [<span class=\"hljs-string\">\"Nice Folks\"</span>]\n<span class=\"hljs-attr\">description</span> = <span class=\"hljs-string\">\"A short description of my package\"</span>\n<span class=\"hljs-attr\">documentation</span> = <span class=\"hljs-string\">\"https://example.com/bar\"</span>\n</code></pre>\n<pre><div class=\"buttons\"><button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\"><i class=\"tooltiptext\"></i></button></div><code class=\"language-toml hljs ini\"><span class=\"hljs-comment\"># [PROJECT_DIR]/bar/Cargo.toml</span>\n<span class=\"hljs-section\">[package]</span>\n<span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">\"bar\"</span>\n<span class=\"hljs-attr\">version.workspace</span> = <span class=\"hljs-literal\">true</span>\n<span class=\"hljs-attr\">authors.workspace</span> = <span class=\"hljs-literal\">true</span>\n<span class=\"hljs-attr\">description.workspace</span> = <span class=\"hljs-literal\">true</span>\n<span class=\"hljs-attr\">documentation.workspace</span> = <span class=\"hljs-literal\">true</span>\n</code></pre>\n<h2 id=\"the-dependencies-table\"><a class=\"header\" href=\"#the-dependencies-table\">The <code>dependencies</code> table</a></h2>\n<p>The <code class=\"hljs\">workspace.dependencies</code> table is where you define dependencies to be\ninherited by members of a workspace.</p>\n<p>Specifying a workspace dependency is similar to <a href=\"specifying-dependencies.html\">package dependencies</a> except:</p>\n<ul>\n<li>Dependencies from this table cannot be declared as <code class=\"hljs\">optional</code></li>\n<li><a href=\"features.html\"><code class=\"hljs\">features</code></a> declared in this table are additive with the <code class=\"hljs\">features</code> from <code class=\"hljs\">[dependencies]</code></li>\n</ul>\n<p>You can then <a href=\"specifying-dependencies.html#inheriting-a-dependency-from-a-workspace\">inherit the workspace dependency as a package dependency</a></p>\n<p>Example:</p>\n<pre><div class=\"buttons\"><button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\"><i class=\"tooltiptext\"></i></button></div><code class=\"language-toml hljs ini\"><span class=\"hljs-comment\"># [PROJECT_DIR]/Cargo.toml</span>\n<span class=\"hljs-section\">[workspace]</span>\n<span class=\"hljs-attr\">members</span> = [<span class=\"hljs-string\">\"bar\"</span>]\n\n<span class=\"hljs-section\">[workspace.dependencies]</span>\n<span class=\"hljs-attr\">cc</span> = <span class=\"hljs-string\">\"1.0.73\"</span>\n<span class=\"hljs-attr\">rand</span> = <span class=\"hljs-string\">\"0.8.5\"</span>\n<span class=\"hljs-attr\">regex</span> = { version = <span class=\"hljs-string\">\"1.6.0\"</span>, default-features = <span class=\"hljs-literal\">false</span>, features = [<span class=\"hljs-string\">\"std\"</span>] }\n</code></pre>\n<pre><div class=\"buttons\"><button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\"><i class=\"tooltiptext\"></i></button></div><code class=\"language-toml hljs ini\"><span class=\"hljs-comment\"># [PROJECT_DIR]/bar/Cargo.toml</span>\n<span class=\"hljs-section\">[package]</span>\n<span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">\"bar\"</span>\n<span class=\"hljs-attr\">version</span> = <span class=\"hljs-string\">\"0.2.0\"</span>\n\n<span class=\"hljs-section\">[dependencies]</span>\n<span class=\"hljs-attr\">regex</span> = { workspace = <span class=\"hljs-literal\">true</span>, features = [<span class=\"hljs-string\">\"unicode\"</span>] }\n\n<span class=\"hljs-section\">[build-dependencies]</span>\n<span class=\"hljs-attr\">cc.workspace</span> = <span class=\"hljs-literal\">true</span>\n\n<span class=\"hljs-section\">[dev-dependencies]</span>\n<span class=\"hljs-attr\">rand.workspace</span> = <span class=\"hljs-literal\">true</span>\n</code></pre>\n<h2 id=\"the-lints-table\"><a class=\"header\" href=\"#the-lints-table\">The <code>lints</code> table</a></h2>\n<p>The <code class=\"hljs\">workspace.lints</code> table is where you define lint configuration to be inherited by members of a workspace.</p>\n<p>Specifying a workspace lint configuration is similar to <a href=\"manifest.html#the-lints-section\">package lints</a>.</p>\n<p>Example:</p>\n<pre><div class=\"buttons\"><button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\"><i class=\"tooltiptext\"></i></button></div><code class=\"language-toml hljs ini\"><span class=\"hljs-comment\"># [PROJECT_DIR]/Cargo.toml</span>\n<span class=\"hljs-section\">[workspace]</span>\n<span class=\"hljs-attr\">members</span> = [<span class=\"hljs-string\">\"crates/*\"</span>]\n\n<span class=\"hljs-section\">[workspace.lints.rust]</span>\n<span class=\"hljs-attr\">unsafe_code</span> = <span class=\"hljs-string\">\"forbid\"</span>\n</code></pre>\n<pre><div class=\"buttons\"><button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\"><i class=\"tooltiptext\"></i></button></div><code class=\"language-toml hljs ini\"><span class=\"hljs-comment\"># [PROJECT_DIR]/crates/bar/Cargo.toml</span>\n<span class=\"hljs-section\">[package]</span>\n<span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">\"bar\"</span>\n<span class=\"hljs-attr\">version</span> = <span class=\"hljs-string\">\"0.1.0\"</span>\n\n<span class=\"hljs-section\">[lints]</span>\n<span class=\"hljs-attr\">workspace</span> = <span class=\"hljs-literal\">true</span>\n</code></pre>\n<h2 id=\"the-metadata-table\"><a class=\"header\" href=\"#the-metadata-table\">The <code>metadata</code> table</a></h2>\n<p>The <code class=\"hljs\">workspace.metadata</code> table is ignored by Cargo and will not be warned\nabout. This section can be used for tools that would like to store workspace\nconfiguration in <code class=\"hljs\">Cargo.toml</code>. For example:</p>\n<pre><div class=\"buttons\"><button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\"><i class=\"tooltiptext\"></i></button></div><code class=\"language-toml hljs ini\"><span class=\"hljs-section\">[workspace]</span>\n<span class=\"hljs-attr\">members</span> = [<span class=\"hljs-string\">\"member1\"</span>, <span class=\"hljs-string\">\"member2\"</span>]\n\n<span class=\"hljs-section\">[workspace.metadata.webcontents]</span>\n<span class=\"hljs-attr\">root</span> = <span class=\"hljs-string\">\"path/to/webproject\"</span>\n<span class=\"hljs-attr\">tool</span> = [<span class=\"hljs-string\">\"npm\"</span>, <span class=\"hljs-string\">\"run\"</span>, <span class=\"hljs-string\">\"build\"</span>]\n<span class=\"hljs-comment\"># ...</span>\n</code></pre>\n<p>There is a similar set of tables at the package level at\n<a href=\"manifest.html#the-metadata-table\"><code class=\"hljs\">package.metadata</code></a>. While cargo does not specify a\nformat for the content of either of these tables, it is suggested that\nexternal tools may wish to use them in a consistent fashion, such as referring\nto the data in <code class=\"hljs\">workspace.metadata</code> if data is missing from <code class=\"hljs\">package.metadata</code>,\nif that makes sense for the tool in question.</p>\n<script>\n(function() {\n    var fragments = {\n        \"#virtual-manifest\": \"workspaces.html#virtual-workspace\",\n    };\n    var target = fragments[window.location.hash];\n    if (target) {\n        var url = window.location.toString();\n        var base = url.substring(0, url.lastIndexOf('/'));\n        window.location.replace(base + \"/\" + target);\n    }\n})();\n</script>\n\n                    </main>\n\n                    <nav class=\"nav-wrapper\" aria-label=\"Page navigation\">\n                        <!-- Mobile navigation buttons -->\n                            <a rel=\"prev\" href=\"../reference/cargo-targets.html\" class=\"mobile-nav-chapters previous\" title=\"Previous chapter\" aria-label=\"Previous chapter\" aria-keyshortcuts=\"Left\">\n                                <i class=\"fa fa-angle-left\"></i>\n                            </a>\n\n                            <a rel=\"next prefetch\" href=\"../reference/features.html\" class=\"mobile-nav-chapters next\" title=\"Next chapter\" aria-label=\"Next chapter\" aria-keyshortcuts=\"Right\">\n                                <i class=\"fa fa-angle-right\"></i>\n                            </a>\n\n                        <div style=\"clear: both\"></div>\n                    </nav>\n                </div>\n            </div>\n\n            <nav class=\"nav-wide-wrapper\" aria-label=\"Page navigation\">\n                    <a rel=\"prev\" href=\"../reference/cargo-targets.html\" class=\"nav-chapters previous\" title=\"Previous chapter\" aria-label=\"Previous chapter\" aria-keyshortcuts=\"Left\">\n                        <i class=\"fa fa-angle-left\"></i>\n                    </a>\n\n                    <a rel=\"next prefetch\" href=\"../reference/features.html\" class=\"nav-chapters next\" title=\"Next chapter\" aria-label=\"Next chapter\" aria-keyshortcuts=\"Right\">\n                        <i class=\"fa fa-angle-right\"></i>\n                    </a>\n            </nav>\n\n        </div>\n\n\n\n\n        <script>\n            window.playground_copyable = true;\n        </script>\n\n\n        <script src=\"../elasticlunr.min.js\"></script>\n        <script src=\"../mark.min.js\"></script>\n        <script src=\"../searcher.js\"></script>\n\n        <script src=\"../clipboard.min.js\"></script>\n        <script src=\"../highlight.js\"></script>\n        <script src=\"../book.js\"></script>\n\n        <!-- Custom JS scripts -->\n\n\n    </div>\n    \n\n</body></html>",
	"crawlDate": "2024-07-28T05:09:21.024Z"
}
{
	"title": "Profile-guided Optimization - The rustc book",
	"url": "https://doc.rust-lang.org/rustc/profile-guided-optimization.html",
	"markdown": "# Profile-guided Optimization - The rustc book\n\n`rustc` supports doing profile-guided optimization (PGO). This chapter describes what PGO is, what it is good for, and how it can be used.\n\n## [What Is Profiled-Guided Optimization?](#what-is-profiled-guided-optimization)\n\nThe basic concept of PGO is to collect data about the typical execution of a program (e.g. which branches it is likely to take) and then use this data to inform optimizations such as inlining, machine-code layout, register allocation, etc.\n\nThere are different ways of collecting data about a program's execution. One is to run the program inside a profiler (such as `perf`) and another is to create an instrumented binary, that is, a binary that has data collection built into it, and run that. The latter usually provides more accurate data and it is also what is supported by `rustc`.\n\n## [Usage](#usage)\n\nGenerating a PGO-optimized program involves following a workflow with four steps:\n\n1.  Compile the program with instrumentation enabled (e.g. `rustc -Cprofile-generate=/tmp/pgo-data main.rs`)\n2.  Run the instrumented program (e.g. `./main`) which generates a `default_<id>.profraw` file\n3.  Convert the `.profraw` file into a `.profdata` file using LLVM's `llvm-profdata` tool\n4.  Compile the program again, this time making use of the profiling data (for example `rustc -Cprofile-use=merged.profdata main.rs`)\n\nAn instrumented program will create one or more `.profraw` files, one for each instrumented binary. E.g. an instrumented executable that loads two instrumented dynamic libraries at runtime will generate three `.profraw` files. Running an instrumented binary multiple times, on the other hand, will re-use the respective `.profraw` files, updating them in place.\n\nThese `.profraw` files have to be post-processed before they can be fed back into the compiler. This is done by the `llvm-profdata` tool. This tool is most easily installed via\n\n```bash\nrustup component add llvm-tools-preview\n\n```\n\nNote that installing the `llvm-tools-preview` component won't add `llvm-profdata` to the `PATH`. Rather, the tool can be found in:\n\n```bash\n~/.rustup/toolchains/<toolchain>/lib/rustlib/<target-triple>/bin/\n\n```\n\nAlternatively, an `llvm-profdata` coming with a recent LLVM or Clang version usually works too.\n\nThe `llvm-profdata` tool merges multiple `.profraw` files into a single `.profdata` file that can then be fed back into the compiler via `-Cprofile-use`:\n\n```bash\n# STEP 1: Compile the binary with instrumentation\nrustc -Cprofile-generate=/tmp/pgo-data -O ./main.rs\n\n# STEP 2: Run the binary a few times, maybe with common sets of args.\n#         Each run will create or update `.profraw` files in /tmp/pgo-data\n./main mydata1.csv\n./main mydata2.csv\n./main mydata3.csv\n\n# STEP 3: Merge and post-process all the `.profraw` files in /tmp/pgo-data\nllvm-profdata merge -o ./merged.profdata /tmp/pgo-data\n\n# STEP 4: Use the merged `.profdata` file during optimization. All `rustc`\n#         flags have to be the same.\nrustc -Cprofile-use=./merged.profdata -O ./main.rs\n\n```\n\n### [A Complete Cargo Workflow](#a-complete-cargo-workflow)\n\nUsing this feature with Cargo works very similar to using it with `rustc` directly. Again, we generate an instrumented binary, run it to produce data, merge the data, and feed it back into the compiler. Some things of note:\n\n-   We use the `RUSTFLAGS` environment variable in order to pass the PGO compiler flags to the compilation of all crates in the program.\n    \n-   We pass the `--target` flag to Cargo, which prevents the `RUSTFLAGS` arguments to be passed to Cargo build scripts. We don't want the build scripts to generate a bunch of `.profraw` files.\n    \n-   We pass `--release` to Cargo because that's where PGO makes the most sense. In theory, PGO can also be done on debug builds but there is little reason to do so.\n    \n-   It is recommended to use _absolute paths_ for the argument of `-Cprofile-generate` and `-Cprofile-use`. Cargo can invoke `rustc` with varying working directories, meaning that `rustc` will not be able to find the supplied `.profdata` file. With absolute paths this is not an issue.\n    \n-   It is good practice to make sure that there is no left-over profiling data from previous compilation sessions. Just deleting the directory is a simple way of doing so (see `STEP 0` below).\n    \n\nThis is what the entire workflow looks like:\n\n```bash\n# STEP 0: Make sure there is no left-over profiling data from previous runs\nrm -rf /tmp/pgo-data\n\n# STEP 1: Build the instrumented binaries\nRUSTFLAGS=\"-Cprofile-generate=/tmp/pgo-data\" \\\n    cargo build --release --target=x86_64-unknown-linux-gnu\n\n# STEP 2: Run the instrumented binaries with some typical data\n./target/x86_64-unknown-linux-gnu/release/myprogram mydata1.csv\n./target/x86_64-unknown-linux-gnu/release/myprogram mydata2.csv\n./target/x86_64-unknown-linux-gnu/release/myprogram mydata3.csv\n\n# STEP 3: Merge the `.profraw` files into a `.profdata` file\nllvm-profdata merge -o /tmp/pgo-data/merged.profdata /tmp/pgo-data\n\n# STEP 4: Use the `.profdata` file for guiding optimizations\nRUSTFLAGS=\"-Cprofile-use=/tmp/pgo-data/merged.profdata\" \\\n    cargo build --release --target=x86_64-unknown-linux-gnu\n\n```\n\n### [Troubleshooting](#troubleshooting)\n\n-   It is recommended to pass `-Cllvm-args=-pgo-warn-missing-function` during the `-Cprofile-use` phase. LLVM by default does not warn if it cannot find profiling data for a given function. Enabling this warning will make it easier to spot errors in your setup.\n    \n-   There is a [known issue](https://github.com/rust-lang/cargo/issues/7416) in Cargo prior to version 1.39 that will prevent PGO from working correctly. Be sure to use Cargo 1.39 or newer when doing PGO.\n    \n\n## [Further Reading](#further-reading)\n\n`rustc`'s PGO support relies entirely on LLVM's implementation of the feature and is equivalent to what Clang offers via the `-fprofile-generate` / `-fprofile-use` flags. The [Profile Guided Optimization](https://clang.llvm.org/docs/UsersManual.html#profile-guided-optimization) section in Clang's documentation is therefore an interesting read for anyone who wants to use PGO with Rust.\n\n## [Community Maintained Tools](#community-maintained-tools)\n\nAs an alternative to directly using the compiler for Profile-Guided Optimization, you may choose to go with `cargo-pgo`, which has an intuitive command-line API and saves you the trouble of doing all the manual work. You can read more about it in their repository accessible from this link: https://github.com/Kobzol/cargo-pgo\n\nFor the sake of completeness, here are the corresponding steps using `cargo-pgo`:\n\n```bash\n# Install if you haven't already\ncargo install cargo-pgo\n\ncargo pgo build\ncargo pgo optimize\n\n```\n\nThese steps will do the following just as before:\n\n1.  Build an instrumented binary from the source code.\n2.  Run the instrumented binary to gather PGO profiles.\n3.  Use the gathered PGO profiles from the last step to build an optimized binary.",
	"html": "<!DOCTYPE html><html lang=\"en\" class=\"light\" dir=\"ltr\"><head>\n        <!-- Book generated using mdBook -->\n        <meta charset=\"UTF-8\">\n        <title>Profile-guided Optimization - The rustc book</title>\n\n\n        <!-- Custom HTML head -->\n        \n        <meta name=\"description\" content=\"\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n        <meta name=\"theme-color\" content=\"rgb(255, 255, 255)\">\n\n        <link rel=\"icon\" href=\"favicon.svg\">\n        <link rel=\"shortcut icon\" href=\"favicon.png\">\n        <link rel=\"stylesheet\" href=\"css/variables.css\">\n        <link rel=\"stylesheet\" href=\"css/general.css\">\n        <link rel=\"stylesheet\" href=\"css/chrome.css\">\n        <link rel=\"stylesheet\" href=\"css/print.css\" media=\"print\">\n\n        <!-- Fonts -->\n        <link rel=\"stylesheet\" href=\"FontAwesome/css/font-awesome.css\">\n        <link rel=\"stylesheet\" href=\"fonts/fonts.css\">\n\n        <!-- Highlight.js Stylesheets -->\n        <link rel=\"stylesheet\" href=\"highlight.css\">\n        <link rel=\"stylesheet\" href=\"tomorrow-night.css\" disabled=\"\">\n        <link rel=\"stylesheet\" href=\"ayu-highlight.css\" disabled=\"\">\n\n        <!-- Custom theme stylesheets -->\n\n    </head>\n    <body class=\"js sidebar-visible\">\n    <div id=\"body-container\">\n        <!-- Provide site root to javascript -->\n        <script>\n            var path_to_root = \"\";\n            var default_theme = window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"navy\" : \"light\";\n        </script>\n\n        <!-- Work around some values being stored in localStorage wrapped in quotes -->\n        <script>\n            try {\n                var theme = localStorage.getItem('mdbook-theme');\n                var sidebar = localStorage.getItem('mdbook-sidebar');\n\n                if (theme.startsWith('\"') && theme.endsWith('\"')) {\n                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));\n                }\n\n                if (sidebar.startsWith('\"') && sidebar.endsWith('\"')) {\n                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));\n                }\n            } catch (e) { }\n        </script>\n\n        <!-- Set the theme before any content is loaded, prevents flash -->\n        <script>\n            var theme;\n            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }\n            if (theme === null || theme === undefined) { theme = default_theme; }\n            var html = document.querySelector('html');\n            html.classList.remove('light')\n            html.classList.add(theme);\n            var body = document.querySelector('body');\n            body.classList.remove('no-js')\n            body.classList.add('js');\n        </script>\n\n        <input type=\"checkbox\" id=\"sidebar-toggle-anchor\" class=\"hidden\">\n\n        <!-- Hide / unhide sidebar before it is displayed -->\n        <script>\n            var body = document.querySelector('body');\n            var sidebar = null;\n            var sidebar_toggle = document.getElementById(\"sidebar-toggle-anchor\");\n            if (document.body.clientWidth >= 1080) {\n                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }\n                sidebar = sidebar || 'visible';\n            } else {\n                sidebar = 'hidden';\n            }\n            sidebar_toggle.checked = sidebar === 'visible';\n            body.classList.remove('sidebar-visible');\n            body.classList.add(\"sidebar-\" + sidebar);\n        </script>\n\n        <nav id=\"sidebar\" class=\"sidebar\" aria-label=\"Table of contents\" aria-hidden=\"false\">\n            <div class=\"sidebar-scrollbox\">\n                <ol class=\"chapter\"><li class=\"chapter-item expanded \"><a href=\"what-is-rustc.html\" tabindex=\"0\"><strong aria-hidden=\"true\">1.</strong> What is rustc?</a></li><li class=\"chapter-item expanded \"><a href=\"command-line-arguments.html\" tabindex=\"0\"><strong aria-hidden=\"true\">2.</strong> Command-line Arguments</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"codegen-options/index.html\" tabindex=\"0\"><strong aria-hidden=\"true\">2.1.</strong> Codegen Options</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"jobserver.html\" tabindex=\"0\"><strong aria-hidden=\"true\">3.</strong> Jobserver</a></li><li class=\"chapter-item expanded \"><a href=\"lints/index.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.</strong> Lints</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"lints/levels.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.1.</strong> Lint Levels</a></li><li class=\"chapter-item expanded \"><a href=\"lints/groups.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.2.</strong> Lint Groups</a></li><li class=\"chapter-item expanded \"><a href=\"lints/listing/index.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.3.</strong> Lint Listing</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"lints/listing/allowed-by-default.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.3.1.</strong> Allowed-by-default Lints</a></li><li class=\"chapter-item expanded \"><a href=\"lints/listing/warn-by-default.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.3.2.</strong> Warn-by-default Lints</a></li><li class=\"chapter-item expanded \"><a href=\"lints/listing/deny-by-default.html\" tabindex=\"0\"><strong aria-hidden=\"true\">4.3.3.</strong> Deny-by-default Lints</a></li></ol></li></ol></li><li class=\"chapter-item expanded \"><a href=\"json.html\" tabindex=\"0\"><strong aria-hidden=\"true\">5.</strong> JSON Output</a></li><li class=\"chapter-item expanded \"><a href=\"tests/index.html\" tabindex=\"0\"><strong aria-hidden=\"true\">6.</strong> Tests</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.</strong> Platform Support</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"target-tier-policy.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.1.</strong> Target Tier Policy</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/TEMPLATE.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.2.</strong> Template for Target-specific Documentation</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/arm64ec-pc-windows-msvc.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.3.</strong> arm64ec-pc-windows-msvc</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/apple-darwin.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.4.</strong> *-apple-darwin</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"platform-support/i686-apple-darwin.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.4.1.</strong> i686-apple-darwin</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/x86_64h-apple-darwin.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.4.2.</strong> x86_64h-apple-darwin</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/arm64e-apple-darwin.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.4.3.</strong> arm64e-apple-darwin</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"platform-support/apple-ios.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.5.</strong> *-apple-ios</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"platform-support/apple-ios-macabi.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.5.1.</strong> *-apple-ios-macabi</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/arm64e-apple-ios.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.5.2.</strong> arm64e-apple-ios</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"platform-support/apple-tvos.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.6.</strong> *-apple-tvos</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/apple-watchos.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.7.</strong> *-apple-watchos</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/apple-visionos.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.8.</strong> *-apple-visionos</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/aarch64-nintendo-switch-freestanding.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.9.</strong> aarch64-nintendo-switch-freestanding</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/armeb-unknown-linux-gnueabi.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.10.</strong> armeb-unknown-linux-gnueabi</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/arm-none-eabi.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.11.</strong> arm-none-eabi</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"platform-support/armv4t-none-eabi.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.11.1.</strong> armv4t-none-eabi</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/armv5te-none-eabi.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.11.2.</strong> armv5te-none-eabi</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/armv7r-none-eabi.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.11.3.</strong> armv7r-none-eabi</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/armv8r-none-eabihf.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.11.4.</strong> armv8r-none-eabihf</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/thumbv6m-none-eabi.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.11.5.</strong> thumbv6m-none-eabi</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/thumbv7em-none-eabi.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.11.6.</strong> thumbv7em-none-eabi*</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/thumbv7m-none-eabi.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.11.7.</strong> thumbv7m-none-eabi</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/thumbv8m.base-none-eabi.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.11.8.</strong> thumbv8m.base-none-eabi</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/thumbv8m.main-none-eabi.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.11.9.</strong> thumbv8m.main-none-eabi*</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"platform-support/armv6k-nintendo-3ds.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.12.</strong> armv6k-nintendo-3ds</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/armv7-sony-vita-newlibeabihf.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.13.</strong> armv7-sony-vita-newlibeabihf</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/armv7-unknown-linux-uclibceabi.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.14.</strong> armv7-unknown-linux-uclibceabi</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/armv7-unknown-linux-uclibceabihf.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.15.</strong> armv7-unknown-linux-uclibceabihf</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/android.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.16.</strong> *-android and *-androideabi</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/openharmony.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.17.</strong> *-linux-ohos</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/hurd.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.18.</strong> *-hurd-gnu</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/aarch64-unknown-teeos.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.19.</strong> aarch64-unknown-teeos</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/esp-idf.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.20.</strong> *-esp-espidf</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/fuchsia.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.21.</strong> *-unknown-fuchsia</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/kmc-solid.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.22.</strong> *-kmc-solid_*</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/csky-unknown-linux-gnuabiv2.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.23.</strong> csky-unknown-linux-gnuabiv2*</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/hexagon-unknown-linux-musl.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.24.</strong> hexagon-unknown-linux-musl</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/hexagon-unknown-none-elf.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.25.</strong> hexagon-unknown-none-elf</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/loongarch-linux.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.26.</strong> loongarch*-unknown-linux-*</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/loongarch-none.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.27.</strong> loongarch*-unknown-none*</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/m68k-unknown-linux-gnu.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.28.</strong> m68k-unknown-linux-gnu</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/mips64-openwrt-linux-musl.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.29.</strong> mips64-openwrt-linux-musl</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/mipsel-sony-psx.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.30.</strong> mipsel-sony-psx</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/mips-release-6.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.31.</strong> mipsisa*r6*-unknown-linux-gnu*</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/nvptx64-nvidia-cuda.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.32.</strong> nvptx64-nvidia-cuda</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/aix.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.33.</strong> powerpc64-ibm-aix</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/riscv32im-risc0-zkvm-elf.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.34.</strong> riscv32im-risc0-zkvm-elf</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/riscv32imac-unknown-xous-elf.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.35.</strong> riscv32imac-unknown-xous-elf</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/riscv32-unknown-none-elf.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.36.</strong> riscv32*-unknown-none-elf</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/sparc-unknown-none-elf.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.37.</strong> sparc-unknown-none-elf</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/pc-windows-gnullvm.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.38.</strong> *-pc-windows-gnullvm</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/nto-qnx.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.39.</strong> *-nto-qnx-*</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/unikraft-linux-musl.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.40.</strong> *-unikraft-linux-musl</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/hermit.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.41.</strong> *-unknown-hermit</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/netbsd.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.42.</strong> *-unknown-netbsd*</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/openbsd.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.43.</strong> *-unknown-openbsd</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/unknown-uefi.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.44.</strong> *-unknown-uefi</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/wasm32-wasip1.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.45.</strong> wasm32-wasip1</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/wasm32-wasip1-threads.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.46.</strong> wasm32-wasip1-threads</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/wasm32-wasip2.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.47.</strong> wasm32-wasip2</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/wasm64-unknown-unknown.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.48.</strong> wasm64-unknown-unknown</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/win7-windows-msvc.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.49.</strong> *-win7-windows-msvc</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/x86_64-fortanix-unknown-sgx.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.50.</strong> x86_64-fortanix-unknown-sgx</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/x86_64-unknown-linux-none.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.51.</strong> x86_64-unknown-linux-none.md</a></li><li class=\"chapter-item expanded \"><a href=\"platform-support/x86_64-unknown-none.html\" tabindex=\"0\"><strong aria-hidden=\"true\">7.52.</strong> x86_64-unknown-none</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"targets/index.html\" tabindex=\"0\"><strong aria-hidden=\"true\">8.</strong> Targets</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"targets/built-in.html\" tabindex=\"0\"><strong aria-hidden=\"true\">8.1.</strong> Built-in Targets</a></li><li class=\"chapter-item expanded \"><a href=\"targets/custom.html\" tabindex=\"0\"><strong aria-hidden=\"true\">8.2.</strong> Custom Targets</a></li><li class=\"chapter-item expanded \"><a href=\"targets/known-issues.html\" tabindex=\"0\"><strong aria-hidden=\"true\">8.3.</strong> Known Issues</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"profile-guided-optimization.html\" class=\"active\" tabindex=\"0\"><strong aria-hidden=\"true\">9.</strong> Profile-guided Optimization</a></li><li class=\"chapter-item expanded \"><a href=\"instrument-coverage.html\" tabindex=\"0\"><strong aria-hidden=\"true\">10.</strong> Instrumentation-based Code Coverage</a></li><li class=\"chapter-item expanded \"><a href=\"linker-plugin-lto.html\" tabindex=\"0\"><strong aria-hidden=\"true\">11.</strong> Linker-plugin-based LTO</a></li><li class=\"chapter-item expanded \"><a href=\"check-cfg.html\" tabindex=\"0\"><strong aria-hidden=\"true\">12.</strong> Checking Conditional Configurations</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"check-cfg/cargo-specifics.html\" tabindex=\"0\"><strong aria-hidden=\"true\">12.1.</strong> Cargo Specifics</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"exploit-mitigations.html\" tabindex=\"0\"><strong aria-hidden=\"true\">13.</strong> Exploit Mitigations</a></li><li class=\"chapter-item expanded \"><a href=\"symbol-mangling/index.html\" tabindex=\"0\"><strong aria-hidden=\"true\">14.</strong> Symbol Mangling</a></li><li><ol class=\"section\"><li class=\"chapter-item expanded \"><a href=\"symbol-mangling/v0.html\" tabindex=\"0\"><strong aria-hidden=\"true\">14.1.</strong> v0 Symbol Format</a></li></ol></li><li class=\"chapter-item expanded \"><a href=\"contributing.html\" tabindex=\"0\"><strong aria-hidden=\"true\">15.</strong> Contributing to rustc</a></li></ol>\n            </div>\n            <div id=\"sidebar-resize-handle\" class=\"sidebar-resize-handle\">\n                <div class=\"sidebar-resize-indicator\"></div>\n            </div>\n        </nav>\n\n        <!-- Track and set sidebar scroll position -->\n        <script>\n            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');\n            sidebarScrollbox.addEventListener('click', function(e) {\n                if (e.target.tagName === 'A') {\n                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);\n                }\n            }, { passive: true });\n            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');\n            sessionStorage.removeItem('sidebar-scroll');\n            if (sidebarScrollTop) {\n                // preserve sidebar scroll position when navigating via links within sidebar\n                sidebarScrollbox.scrollTop = sidebarScrollTop;\n            } else {\n                // scroll sidebar to current active section when navigating via \"next/previous chapter\" buttons\n                var activeSection = document.querySelector('#sidebar .active');\n                if (activeSection) {\n                    activeSection.scrollIntoView({ block: 'center' });\n                }\n            }\n        </script>\n\n        <div id=\"page-wrapper\" class=\"page-wrapper\">\n\n            <div class=\"page\">\n                                <div id=\"menu-bar-hover-placeholder\"></div>\n                <div id=\"menu-bar\" class=\"menu-bar\" style=\"top: 0px;\">\n                    <div class=\"left-buttons\">\n                        <label id=\"sidebar-toggle\" class=\"icon-button\" for=\"sidebar-toggle-anchor\" title=\"Toggle Table of Contents\" aria-label=\"Toggle Table of Contents\" aria-controls=\"sidebar\" aria-expanded=\"true\">\n                            <i class=\"fa fa-bars\"></i>\n                        </label>\n                        <button id=\"theme-toggle\" class=\"icon-button\" type=\"button\" title=\"Change theme\" aria-label=\"Change theme\" aria-haspopup=\"true\" aria-expanded=\"false\" aria-controls=\"theme-list\">\n                            <i class=\"fa fa-paint-brush\"></i>\n                        </button>\n                        <ul id=\"theme-list\" class=\"theme-popup\" aria-label=\"Themes\" role=\"menu\">\n                            <li role=\"none\"><button role=\"menuitem\" class=\"theme theme-selected\" id=\"light\">Light</button></li>\n                            <li role=\"none\"><button role=\"menuitem\" class=\"theme\" id=\"rust\">Rust</button></li>\n                            <li role=\"none\"><button role=\"menuitem\" class=\"theme\" id=\"coal\">Coal</button></li>\n                            <li role=\"none\"><button role=\"menuitem\" class=\"theme\" id=\"navy\">Navy</button></li>\n                            <li role=\"none\"><button role=\"menuitem\" class=\"theme\" id=\"ayu\">Ayu</button></li>\n                        </ul>\n                        <button id=\"search-toggle\" class=\"icon-button\" type=\"button\" title=\"Search. (Shortkey: s)\" aria-label=\"Toggle Searchbar\" aria-expanded=\"false\" aria-keyshortcuts=\"S\" aria-controls=\"searchbar\">\n                            <i class=\"fa fa-search\"></i>\n                        </button>\n                    </div>\n\n                    <h1 class=\"menu-title\">The rustc book</h1>\n\n                    <div class=\"right-buttons\">\n                        <a href=\"print.html\" title=\"Print this book\" aria-label=\"Print this book\">\n                            <i id=\"print-button\" class=\"fa fa-print\"></i>\n                        </a>\n                        <a href=\"https://github.com/rust-lang/rust/tree/master/src/doc/rustc\" title=\"Git repository\" aria-label=\"Git repository\">\n                            <i id=\"git-repository-button\" class=\"fa fa-github\"></i>\n                        </a>\n                        <a href=\"https://github.com/rust-lang/rust/edit/master/src/doc/rustc/src/profile-guided-optimization.md\" title=\"Suggest an edit\" aria-label=\"Suggest an edit\">\n                            <i id=\"git-edit-button\" class=\"fa fa-edit\"></i>\n                        </a>\n\n                    </div>\n                </div>\n\n                <div id=\"search-wrapper\" class=\"hidden\">\n                    <form id=\"searchbar-outer\" class=\"searchbar-outer\">\n                        <input type=\"search\" id=\"searchbar\" name=\"searchbar\" placeholder=\"Search this book ...\" aria-controls=\"searchresults-outer\" aria-describedby=\"searchresults-header\">\n                    </form>\n                    <div id=\"searchresults-outer\" class=\"searchresults-outer hidden\">\n                        <div id=\"searchresults-header\" class=\"searchresults-header\"></div>\n                        <ul id=\"searchresults\">\n                        </ul>\n                    </div>\n                </div>\n\n                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->\n                <script>\n                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');\n                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');\n                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {\n                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);\n                    });\n                </script>\n\n                <div id=\"content\" class=\"content\">\n                    <main>\n                        <h1 id=\"profile-guided-optimization\"><a class=\"header\" href=\"#profile-guided-optimization\">Profile-guided Optimization</a></h1>\n<p><code class=\"hljs\">rustc</code> supports doing profile-guided optimization (PGO).\nThis chapter describes what PGO is, what it is good for, and how it can be used.</p>\n<h2 id=\"what-is-profiled-guided-optimization\"><a class=\"header\" href=\"#what-is-profiled-guided-optimization\">What Is Profiled-Guided Optimization?</a></h2>\n<p>The basic concept of PGO is to collect data about the typical execution of\na program (e.g. which branches it is likely to take) and then use this data\nto inform optimizations such as inlining, machine-code layout,\nregister allocation, etc.</p>\n<p>There are different ways of collecting data about a program's execution.\nOne is to run the program inside a profiler (such as <code class=\"hljs\">perf</code>) and another\nis to create an instrumented binary, that is, a binary that has data\ncollection built into it, and run that.\nThe latter usually provides more accurate data and it is also what is\nsupported by <code class=\"hljs\">rustc</code>.</p>\n<h2 id=\"usage\"><a class=\"header\" href=\"#usage\">Usage</a></h2>\n<p>Generating a PGO-optimized program involves following a workflow with four steps:</p>\n<ol>\n<li>Compile the program with instrumentation enabled\n(e.g. <code class=\"hljs\">rustc -Cprofile-generate=/tmp/pgo-data main.rs</code>)</li>\n<li>Run the instrumented program (e.g. <code class=\"hljs\">./main</code>) which generates a\n<code class=\"hljs\">default_&lt;id&gt;.profraw</code> file</li>\n<li>Convert the <code class=\"hljs\">.profraw</code> file into a <code class=\"hljs\">.profdata</code> file using\nLLVM's <code class=\"hljs\">llvm-profdata</code> tool</li>\n<li>Compile the program again, this time making use of the profiling data\n(for example <code class=\"hljs\">rustc -Cprofile-use=merged.profdata main.rs</code>)</li>\n</ol>\n<p>An instrumented program will create one or more <code class=\"hljs\">.profraw</code> files, one for each\ninstrumented binary. E.g. an instrumented executable that loads two instrumented\ndynamic libraries at runtime will generate three <code class=\"hljs\">.profraw</code> files. Running an\ninstrumented binary multiple times, on the other hand, will re-use the\nrespective <code class=\"hljs\">.profraw</code> files, updating them in place.</p>\n<p>These <code class=\"hljs\">.profraw</code> files have to be post-processed before they can be fed back\ninto the compiler. This is done by the <code class=\"hljs\">llvm-profdata</code> tool. This tool\nis most easily installed via</p>\n<pre><div class=\"buttons\"><button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\"><i class=\"tooltiptext\"></i></button></div><code class=\"language-bash hljs\">rustup component add llvm-tools-preview\n</code></pre>\n<p>Note that installing the <code class=\"hljs\">llvm-tools-preview</code> component won't add\n<code class=\"hljs\">llvm-profdata</code> to the <code class=\"hljs\">PATH</code>. Rather, the tool can be found in:</p>\n<pre><div class=\"buttons\"><button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\"><i class=\"tooltiptext\"></i></button></div><code class=\"language-bash hljs\">~/.rustup/toolchains/&lt;toolchain&gt;/lib/rustlib/&lt;target-triple&gt;/bin/\n</code></pre>\n<p>Alternatively, an <code class=\"hljs\">llvm-profdata</code> coming with a recent LLVM or Clang\nversion usually works too.</p>\n<p>The <code class=\"hljs\">llvm-profdata</code> tool merges multiple <code class=\"hljs\">.profraw</code> files into a single\n<code class=\"hljs\">.profdata</code> file that can then be fed back into the compiler via\n<code class=\"hljs\">-Cprofile-use</code>:</p>\n<pre><div class=\"buttons\"><button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\"><i class=\"tooltiptext\"></i></button></div><code class=\"language-bash hljs\"><span class=\"hljs-comment\"># STEP 1: Compile the binary with instrumentation</span>\nrustc -Cprofile-generate=/tmp/pgo-data -O ./main.rs\n\n<span class=\"hljs-comment\"># STEP 2: Run the binary a few times, maybe with common sets of args.</span>\n<span class=\"hljs-comment\">#         Each run will create or update `.profraw` files in /tmp/pgo-data</span>\n./main mydata1.csv\n./main mydata2.csv\n./main mydata3.csv\n\n<span class=\"hljs-comment\"># STEP 3: Merge and post-process all the `.profraw` files in /tmp/pgo-data</span>\nllvm-profdata merge -o ./merged.profdata /tmp/pgo-data\n\n<span class=\"hljs-comment\"># STEP 4: Use the merged `.profdata` file during optimization. All `rustc`</span>\n<span class=\"hljs-comment\">#         flags have to be the same.</span>\nrustc -Cprofile-use=./merged.profdata -O ./main.rs\n</code></pre>\n<h3 id=\"a-complete-cargo-workflow\"><a class=\"header\" href=\"#a-complete-cargo-workflow\">A Complete Cargo Workflow</a></h3>\n<p>Using this feature with Cargo works very similar to using it with <code class=\"hljs\">rustc</code>\ndirectly. Again, we generate an instrumented binary, run it to produce data,\nmerge the data, and feed it back into the compiler. Some things of note:</p>\n<ul>\n<li>\n<p>We use the <code class=\"hljs\">RUSTFLAGS</code> environment variable in order to pass the PGO compiler\nflags to the compilation of all crates in the program.</p>\n</li>\n<li>\n<p>We pass the <code class=\"hljs\">--target</code> flag to Cargo, which prevents the <code class=\"hljs\">RUSTFLAGS</code>\narguments to be passed to Cargo build scripts. We don't want the build\nscripts to generate a bunch of <code class=\"hljs\">.profraw</code> files.</p>\n</li>\n<li>\n<p>We pass <code class=\"hljs\">--release</code> to Cargo because that's where PGO makes the most sense.\nIn theory, PGO can also be done on debug builds but there is little reason\nto do so.</p>\n</li>\n<li>\n<p>It is recommended to use <em>absolute paths</em> for the argument of\n<code class=\"hljs\">-Cprofile-generate</code> and <code class=\"hljs\">-Cprofile-use</code>. Cargo can invoke <code class=\"hljs\">rustc</code> with\nvarying working directories, meaning that <code class=\"hljs\">rustc</code> will not be able to find\nthe supplied <code class=\"hljs\">.profdata</code> file. With absolute paths this is not an issue.</p>\n</li>\n<li>\n<p>It is good practice to make sure that there is no left-over profiling data\nfrom previous compilation sessions. Just deleting the directory is a simple\nway of doing so (see <code class=\"hljs\">STEP 0</code> below).</p>\n</li>\n</ul>\n<p>This is what the entire workflow looks like:</p>\n<pre><div class=\"buttons\"><button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\"><i class=\"tooltiptext\"></i></button></div><code class=\"language-bash hljs\"><span class=\"hljs-comment\"># STEP 0: Make sure there is no left-over profiling data from previous runs</span>\nrm -rf /tmp/pgo-data\n\n<span class=\"hljs-comment\"># STEP 1: Build the instrumented binaries</span>\nRUSTFLAGS=<span class=\"hljs-string\">\"-Cprofile-generate=/tmp/pgo-data\"</span> \\\n    cargo build --release --target=x86_64-unknown-linux-gnu\n\n<span class=\"hljs-comment\"># STEP 2: Run the instrumented binaries with some typical data</span>\n./target/x86_64-unknown-linux-gnu/release/myprogram mydata1.csv\n./target/x86_64-unknown-linux-gnu/release/myprogram mydata2.csv\n./target/x86_64-unknown-linux-gnu/release/myprogram mydata3.csv\n\n<span class=\"hljs-comment\"># STEP 3: Merge the `.profraw` files into a `.profdata` file</span>\nllvm-profdata merge -o /tmp/pgo-data/merged.profdata /tmp/pgo-data\n\n<span class=\"hljs-comment\"># STEP 4: Use the `.profdata` file for guiding optimizations</span>\nRUSTFLAGS=<span class=\"hljs-string\">\"-Cprofile-use=/tmp/pgo-data/merged.profdata\"</span> \\\n    cargo build --release --target=x86_64-unknown-linux-gnu\n</code></pre>\n<h3 id=\"troubleshooting\"><a class=\"header\" href=\"#troubleshooting\">Troubleshooting</a></h3>\n<ul>\n<li>\n<p>It is recommended to pass <code class=\"hljs\">-Cllvm-args=-pgo-warn-missing-function</code> during the\n<code class=\"hljs\">-Cprofile-use</code> phase. LLVM by default does not warn if it cannot find\nprofiling data for a given function. Enabling this warning will make it\neasier to spot errors in your setup.</p>\n</li>\n<li>\n<p>There is a <a href=\"https://github.com/rust-lang/cargo/issues/7416\">known issue</a> in\nCargo prior to version 1.39 that will prevent PGO from working correctly. Be\nsure to use Cargo 1.39 or newer when doing PGO.</p>\n</li>\n</ul>\n<h2 id=\"further-reading\"><a class=\"header\" href=\"#further-reading\">Further Reading</a></h2>\n<p><code class=\"hljs\">rustc</code>'s PGO support relies entirely on LLVM's implementation of the feature\nand is equivalent to what Clang offers via the <code class=\"hljs\">-fprofile-generate</code> /\n<code class=\"hljs\">-fprofile-use</code> flags. The <a href=\"https://clang.llvm.org/docs/UsersManual.html#profile-guided-optimization\">Profile Guided Optimization</a> section\nin Clang's documentation is therefore an interesting read for anyone who wants\nto use PGO with Rust.</p>\n<h2 id=\"community-maintained-tools\"><a class=\"header\" href=\"#community-maintained-tools\">Community Maintained Tools</a></h2>\n<p>As an alternative to directly using the compiler for Profile-Guided Optimization,\nyou may choose to go with <code class=\"hljs\">cargo-pgo</code>, which has an intuitive command-line API\nand saves you the trouble of doing all the manual work. You can read more about\nit in their repository accessible from this link: https://github.com/Kobzol/cargo-pgo</p>\n<p>For the sake of completeness, here are the corresponding steps using <code class=\"hljs\">cargo-pgo</code>:</p>\n<pre><div class=\"buttons\"><button class=\"fa fa-copy clip-button\" title=\"Copy to clipboard\" aria-label=\"Copy to clipboard\"><i class=\"tooltiptext\"></i></button></div><code class=\"language-bash hljs\"><span class=\"hljs-comment\"># Install if you haven't already</span>\ncargo install cargo-pgo\n\ncargo pgo build\ncargo pgo optimize\n</code></pre>\n<p>These steps will do the following just as before:</p>\n<ol>\n<li>Build an instrumented binary from the source code.</li>\n<li>Run the instrumented binary to gather PGO profiles.</li>\n<li>Use the gathered PGO profiles from the last step to build an optimized binary.</li>\n</ol>\n\n                    </main>\n\n                    <nav class=\"nav-wrapper\" aria-label=\"Page navigation\">\n                        <!-- Mobile navigation buttons -->\n                            <a rel=\"prev\" href=\"targets/known-issues.html\" class=\"mobile-nav-chapters previous\" title=\"Previous chapter\" aria-label=\"Previous chapter\" aria-keyshortcuts=\"Left\">\n                                <i class=\"fa fa-angle-left\"></i>\n                            </a>\n\n                            <a rel=\"next prefetch\" href=\"instrument-coverage.html\" class=\"mobile-nav-chapters next\" title=\"Next chapter\" aria-label=\"Next chapter\" aria-keyshortcuts=\"Right\">\n                                <i class=\"fa fa-angle-right\"></i>\n                            </a>\n\n                        <div style=\"clear: both\"></div>\n                    </nav>\n                </div>\n            </div>\n\n            <nav class=\"nav-wide-wrapper\" aria-label=\"Page navigation\">\n                    <a rel=\"prev\" href=\"targets/known-issues.html\" class=\"nav-chapters previous\" title=\"Previous chapter\" aria-label=\"Previous chapter\" aria-keyshortcuts=\"Left\">\n                        <i class=\"fa fa-angle-left\"></i>\n                    </a>\n\n                    <a rel=\"next prefetch\" href=\"instrument-coverage.html\" class=\"nav-chapters next\" title=\"Next chapter\" aria-label=\"Next chapter\" aria-keyshortcuts=\"Right\">\n                        <i class=\"fa fa-angle-right\"></i>\n                    </a>\n            </nav>\n\n        </div>\n\n\n\n\n        <script>\n            window.playground_copyable = true;\n        </script>\n\n\n        <script src=\"elasticlunr.min.js\"></script>\n        <script src=\"mark.min.js\"></script>\n        <script src=\"searcher.js\"></script>\n\n        <script src=\"clipboard.min.js\"></script>\n        <script src=\"highlight.js\"></script>\n        <script src=\"book.js\"></script>\n\n        <!-- Custom JS scripts -->\n\n\n    </div>\n    \n\n</body></html>",
	"crawlDate": "2024-07-28T05:14:42.142Z"
}